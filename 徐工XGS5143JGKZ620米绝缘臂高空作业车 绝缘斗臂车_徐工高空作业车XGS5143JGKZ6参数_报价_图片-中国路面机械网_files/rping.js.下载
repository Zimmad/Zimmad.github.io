(function(){
	function __bigPingLJS__(srcurl,props){
		setTimeout(function(){
			var scriptNode = document.createElement("script");
			scriptNode.type = "text/javascript";
			
			var pps = [] ;
			if(props) for(var k in props) pps.push(k + '=' + encodeURIComponent(props[k])) ;
			
			var url = srcurl;
			if(pps.length > 0) url += (srcurl.indexOf('?') > -1 ? '&' : '?') + pps.join('&')  ;
			scriptNode.src = 'https://bigping.lmjx.net/' + url ;
			
			scriptNode.onreadystatechange = scriptNode.onload = function(){
				if (!this.readyState || this.readyState == "loaded" || this.readyState == "complete"){
					scriptNode.onreadystatechange = scriptNode.onload = null;
					scriptNode.parentNode.removeChild(scriptNode);
				};
			};

			document.getElementsByTagName('head')[0].appendChild(scriptNode);
		},0) ;
	}
	
	function ding(){
		var referrer = document.referrer ? document.referrer : '' ;
		var url = window.location.href ;
		
		var pwidth = window.screen.width ;
		var pheight = window.screen.height ;
		var pr = 1 ;
		var up = 'pwidth=' + parseInt(pwidth*pr,10) + '&pheight=' + parseInt(pheight*pr,10) ;
		
		var props = {url:url,referrer:referrer,up:up} ;
		__bigPingLJS__('ding',props) ;
	}
	
	function hing(){
		window.addEventListener('click',function(e){
			if(!window.__bigPingDing || !window.__bigPingDing.id) return true;
			var ding_id = window.__bigPingDing.id ;
		
			if(!e || !e.target) return ;
			
			var clicktop = e.pageY ;
			var clickleft = e.pageX ;
			var tourl = e.target.href ;
			
        	var classname = e.target.className;
			var tagname = e.target.tagName.toLowerCase();
			var domid = e.target.id ;
          
			var props = {} ;
			props.ding_id = ding_id ;
			
			if(clicktop) props.clicktop = parseInt(clicktop,10) ;
			if(clickleft) props.clickleft = parseInt(clickleft,10) ;
			if(tourl) props.tourl = tourl ;
        	if(classname) props.classname = classname ;
			if(tagname) props.tagname = tagname ;
			if(domid) props.domid = domid ;
			
			__bigPingLJS__('ding/hit',props);
			return true;
		}) ;
	}
	
	function aing(askp_id){
		if(!window.__bigPingDing || !window.__bigPingDing.id) return true;
		var ding_id = window.__bigPingDing.id ;
		
		var props = {} ;
		props.ding_id = ding_id ;
		props.askp_id = askp_id ;
		
		__bigPingLJS__('ding/askp',props);
	}
	
	window.__bigPingAskp = aing ;
	
	function uing(iname,iid){
		if(!window.__bigPingDing || !window.__bigPingDing.id) return true;
		var ding_id = window.__bigPingDing.id ;
		
		var props = {} ;
		props.ding_id = ding_id ;
		props.iname = iname ;
		props.iid = iid ;
		
		__bigPingLJS__('ding/usubinf',props);
	}
	
	window.__bigPingUsubinf = uing ;
	
	ding() ;
	hing() ;
	
})() ;


function _bigPing(){
}


var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d36bd6ab22b64b2de5270ff7921c8904";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

